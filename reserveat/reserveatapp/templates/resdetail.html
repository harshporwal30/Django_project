{% extends 'nav-footer.html' %}
{% load static %}

<html>

<body>
    {% block mycontent %}
    {% if user %}

    

    <div class="main-content1">

        <div class="restaurant-details">
            <h1>{{resobj.res_name}}</h1>
            <p>Welcome to Amazing Restaurant, where every dish is a masterpiece!</p>
            <p>Address: {{resobj.res_address}}</p>
            <p>Contact: {{resobj.res_contact}}</p>
            <p>Description: {{resobj.res_description}}</p>
        </div>

        <div class="image-container1">
            <div class="ambiance-images1">
                <img class="ambiance-image1" src="{% static 'images/family dining table.jpg' %}" alt="Ambiance Image 1">
                <img class="ambiance-image1" src="{% static 'images/res-1.jpg' %}" alt="Ambiance Image 2">
                <img class="ambiance-image1" src="{% static 'images/family dining table.jpg' %}" alt="Ambiance Image 3">
            </div>
            <button class=" left-button" onclick="scrollImages('left')">←</button>
            <button class=" right-button" onclick="scrollImages('right')">→</button>
        </div>

        <div class="table-section">
            <h2>Table Availability</h2>
            <ul class="table-list">
                {% for i in tables %}
                <li>Table {{i.tableno}} - Location: {{i.table_location}} - Capacity: {{i.seating_capacity}}
                    <form method="post" action="{% url 'check' i.id %}">
                        {% csrf_token %}
                        <select name="time_slot" required>
                            {% for slot in time_slots %}
                                <option value="{{ slot.start_time }}-{{ slot.end_time }}">
                                    {{ slot.start_time }} - {{ slot.end_time }}
                                </option>
                            {% endfor %}
                        </select>
                        <button class="check-button" type="submit">Check Availability</button></form>
                  </li>
                {% endfor %}
                
            </ul>
            

            <button class="book-table-button" onclick="bookTable()">Book a Table</button>
        </div>

    </div>

    

    <script>
        const ambianceImages = document.querySelector('.ambiance-images1');
        const images = document.querySelectorAll('.ambiance-image1');
        let currentIndex = 0;
    
        function scrollImages(direction) {
          const imageWidth = images[0].offsetWidth;
          const maxIndex = images.length - 1;
    
          if (direction === 'left' && currentIndex > 0) {
            currentIndex--;
          } else if (direction === 'right' && currentIndex < maxIndex) {
            currentIndex++;
          }
    
          ambianceImages.style.transform = `translateX(-${currentIndex * imageWidth}px)`;
        }
    
        document.addEventListener("DOMContentLoaded", function () {
          function bookTable() {
            alert("Table booked successfully!");
          }
        });
      </script>
    {% else %}
    <div class="alert-access">
      {{msg}}
      <a href="{% url 'login' %}">Login</a>
  </div>
  {% endif %}




    {% endblock %}
</body>

</html>